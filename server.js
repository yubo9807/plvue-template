"use strict";const m=require("http"),p=require("fs"),a=require("path"),t=require("pl-vue"),v="production",i=Object.freeze({BASE_URL:"/plvue-template",NODE_ENV:v,BASE_API:"/api"}),f={count:0},g={addCount(){f.count++}},y=t.createStore(f,g);function b(){const e=y(),n=t.ref(0);return t.h("div",null,t.h("h1",null,()=>n.value),t.h("button",{onclick:()=>n.value++},"count ++"),t.h("h1",null,()=>e.count),t.h("button",{onclick:e.addCount},"store.count++"))}function _(){return t.h("div",{style:"margin-top: 80px"},t.h("a",{href:"http://plvue.hpyyb.cn/",target:"_blank"},"Pl Vue 文档"))}const S="not-found-710606",j={"not-found":"not-found-710606",notFound:S};function w(){return t.h("div",{className:j["not-found"]},"404")}const A="nav-fbcc39",E={nav:A};t.createRouter({base:i.BASE_URL,mode:"hash",routes:[{path:"/",component:b},{path:"/about",component:_},{component:w}]});function F(){return t.h(t.Fragment,null,t.h("nav",{className:E.nav},t.h(t.Link,{to:"/"},"Home"),t.h(t.Link,{to:"/about"},"About")),t.h(t.Router,null))}const s={"text/html":[".html"],"text/css":[".css"],"application/javascript;":[".js"],"application/json":[".json"],"image/vnd.microsoft.icon":[".ico"],"image/jpeg":[".jpg",".jpeg"],"image/png":[".png"],"image/gif":[".gif"],"application/pdf":[".pdf"],"font/woff2":[".worf2"],"font/woff":[".worf"],"font/ttf":[".ttf"],"application/octet-stream":[".mp4",".avi"]};function k(){const e=Object.values(s).flat();return[".gz"].concat(e)}function x(e){e=e.toLowerCase();let n=null;for(const o in s)if(s[o].includes(e)){n=o;break}return n}const L=p.readFileSync(a.resolve(__dirname,"index.html"),"utf-8"),N=m.createServer(async(e,n)=>{const o=e.url.replace(i.BASE_URL,""),u=a.extname(o);if(k().includes(u)){const c=a.resolve(__dirname,o.slice(1));p.readFile(c,(d,h)=>{if(d)n.writeHead(404,{"Content-Type":"text/plain"}),n.end("Not Found");else{const l=x(u);l&&n.setHeader("Content-Type",l),n.write(h),n.end()}})}else{const c=await t.ssrOutlet(F,o,L);n.write(c),n.end()}}),r=3e3;N.listen(r,()=>{console.log(`http://localhost:${r}${i.BASE_URL}`)});
