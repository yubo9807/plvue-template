"use strict";const v=require("http"),f=require("fs"),i=require("path"),o=require("pl-vue/lib/router"),t=require("pl-vue"),g=require("pl-vue/lib/store"),y="production",u=Object.freeze({BASE_URL:"/plvue-template",NODE_ENV:y,BASE_API:"/api"}),d={count:0},b={addCount(){d.count++}},_=g.createStore(d,b);function S(){const e=_(),n=t.ref(0);return t.h("div",null,t.h("h1",null,()=>n.value),t.h("button",{onclick:()=>n.value++},"count ++"),t.h("h1",null,()=>e.count),t.h("button",{onclick:e.addCount},"store.count++"))}function j(){return t.h("div",{style:"margin-top: 80px"},t.h("a",{href:"http://plvue.hpyyb.cn/",target:"_blank"},"Pl Vue 文档"))}const w="not-found-710606",A={"not-found":"not-found-710606",notFound:w};function F(){return t.h("div",{className:A["not-found"]},"404")}const E="nav-fbcc39",R={nav:E};function k(){return o.initRouter({base:u.BASE_URL,mode:"hash"}),t.h(t.Fragment,null,t.h(o.Router,{notFound:F},t.h(o.Route,{path:"/",component:S}),t.h(o.Route,{path:"/about",component:j})),t.h("nav",{className:R.nav},t.h(o.Link,{to:"/"},"Home"),t.h(o.Link,{to:"/about"},"About")))}const a={"text/html":[".html"],"text/css":[".css"],"application/javascript;":[".js"],"application/json":[".json"],"image/vnd.microsoft.icon":[".ico"],"image/jpeg":[".jpg",".jpeg"],"image/png":[".png"],"image/gif":[".gif"],"application/pdf":[".pdf"],"font/woff2":[".worf2"],"font/woff":[".worf"],"font/ttf":[".ttf"],"application/octet-stream":[".mp4",".avi"]};function x(){const e=Object.values(a).flat();return[".gz"].concat(e)}function L(e){e=e.toLowerCase();let n=null;for(const c in a)if(a[c].includes(e)){n=c;break}return n}const q=f.readFileSync(i.resolve(__dirname,"index.html"),"utf-8"),N=v.createServer(async(e,n)=>{const c=e.url.replace(u.BASE_URL,""),r=i.extname(c);if(x().includes(r)){const s=i.resolve(__dirname,c.slice(1));f.readFile(s,(h,m)=>{if(h)n.writeHead(404,{"Content-Type":"text/plain"}),n.end("Not Found");else{const l=L(r);l&&n.setHeader("Content-Type",l),n.write(m),n.end()}})}else{const s=await o.ssrOutlet(k,c,q);n.write(s),n.end()}}),p=3e3;N.listen(p,()=>{console.log(`http://localhost:${p}${u.BASE_URL}`)});
