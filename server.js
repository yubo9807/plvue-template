"use strict";const v=require("http"),p=require("fs"),a=require("path"),t=require("pl-vue"),g="production",c=Object.freeze({BASE_URL:"",NODE_ENV:g,BASE_API:"/api"}),f={count:0},y={addCount(){f.count++}},b=t.createStore(f,y);function _(){const e=b(),n=t.ref(0);return t.h("div",null,t.h("h1",null,()=>n.value),t.h("button",{onclick:()=>n.value++},"count ++"),t.h("h1",null,()=>e.count),t.h("button",{onclick:e.addCount},"store.count++"))}function S(){return t.h("div",{style:"margin-top: 80px"},t.h("a",{href:"http://plvue.hpyyb.cn/",target:"_blank"},"Pl Vue 文档"))}const A="not-found-710606",j={"not-found":"not-found-710606",notFound:A};function w(){return t.h("div",{className:j["not-found"]},"404")}const E="nav-fbcc39",F={nav:E};t.createRouter({base:c.BASE_URL,mode:"hash",routes:[{path:"/",component:_},{path:"/about",component:S},{component:w}]});function L(){return t.h(t.Fragment,null,t.h("nav",{className:F.nav},t.h(t.Link,{to:"/"},"Home"),t.h(t.Link,{to:"/about"},"About")),t.h(t.Router,null))}const i={"text/html":[".html"],"text/css":[".css"],"application/javascript;":[".js"],"application/json":[".json"],"image/vnd.microsoft.icon":[".ico"],"image/jpeg":[".jpg",".jpeg"],"image/png":[".png"],"image/gif":[".gif"],"application/pdf":[".pdf"],"font/woff2":[".worf2"],"font/woff":[".worf"],"font/ttf":[".ttf"],"application/octet-stream":[".mp4",".avi"]};function k(){const e=Object.values(i).flat();return[".gz"].concat(e)}function x(e){e=e.toLowerCase();let n=null;for(const o in i)if(i[o].includes(e)){n=o;break}return n}const d=c.BASE_URL.slice(1),R=p.readFileSync(a.resolve(__dirname,d,"index.html"),"utf-8"),B=v.createServer(async(e,n)=>{const o=e.url.replace(c.BASE_URL||"/","/"),u=a.extname(o);if(k().includes(u)){const s=a.resolve(__dirname,d,o.slice(1));p.readFile(s,(h,m)=>{if(h)n.writeHead(404,{"Content-Type":"text/plain"}),n.end("Not Found");else{const l=x(u);l&&n.setHeader("Content-Type",l),n.write(m),n.end()}})}else{const s=await t.ssrOutlet(L,o,R);n.write(s),n.end()}}),r=3e3;B.listen(r,()=>{console.log(`http://localhost:${r}${c.BASE_URL}`)});
